<div class="templates">
  <h3>üìù –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π</h3>
  
  <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ -->
  <div class="add-template">
    <h4>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω</h4>
    <div class="form-group">
      <input 
        type="text" 
        [(ngModel)]="newTemplate.name" 
        placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞"
        class="form-input"
      >
    </div>
    
    <div class="form-group">
      <textarea 
        [(ngModel)]="newTemplate.template" 
        placeholder="–¢–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ {–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ})"
        class="form-textarea"
        rows="3"
      ></textarea>
    </div>
    
    <div class="form-group">
      <select [(ngModel)]="newTemplate.category" class="form-select">
        @for (category of categories; track category) {
          <option [value]="category">{{ category }}</option>
        }
      </select>
    </div>
    
    <button 
      class="add-btn" 
      (click)="submitNewTemplate()"
      [disabled]="!newTemplate.name || !newTemplate.template"
    >
      –î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω
    </button>
  </div>
  
  <!-- –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ -->
  <div class="templates-list">
    <h4>–î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã</h4>
    
    @if (templates.length === 0) {
      <div class="empty-state">
        <p>–ù–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤</p>
      </div>
    } @else {
      <div class="template-items">
        @for (template of templates; track template.id) {
          <div class="template-item">
            <div class="template-header">
              <strong>{{ template.name }}</strong>
              <span class="template-category">{{ template.category }}</span>
            </div>
            
            <p class="template-text">{{ template.template }}</p>
            
            <div class="template-actions">
              <button 
                class="use-btn" 
                (click)="onUseTemplate(template.template)"
              >
                –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
              </button>
              <button 
                class="delete-btn" 
                (click)="onDeleteTemplate(template.id)"
              >
                –£–¥–∞–ª–∏—Ç—å
              </button>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>